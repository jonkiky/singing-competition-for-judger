(this.webpackJsonptriphub=this.webpackJsonptriphub||[]).push([[0],{464:function(e,t,a){e.exports=a(792)},694:function(e,t){},696:function(e,t){},707:function(e,t){},709:function(e,t){},736:function(e,t){},738:function(e,t){},739:function(e,t){},744:function(e,t){},746:function(e,t){},752:function(e,t){},754:function(e,t){},773:function(e,t){},785:function(e,t){},788:function(e,t){},792:function(e,t,a){"use strict";a.r(t);a(465),a(477);var n=a(0),r=a.n(n),c=a(76),o=a.n(c),l=a(450),i=a(61).a(),s=a(36),u=r.a.createContext({}),m=a(22);var d,f=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("p",null,"Page No Found"))},p=a(14),g=a(433),h=a(86),E=a(150),b=a(103),v=a(5),N=a.n(v),y=a(17),x=a(837),w=function(){var e=Object(x.a)(["authToken"]),t=Object(p.a)(e,3),a=t[0],n=t[1],r=t[2];return[a.authToken,function(e){return n("authToken",e)},function(){return r("authToken")}]},_=function(){var e=w(),t=Object(p.a)(e,3)[2],a=Object(b.a)();return function(){var e=Object(y.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.clearStore();case 2:t(),window.location.href="./#/logout";case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},j=Object(E.a)(d||(d=Object(h.a)(["\n  mutation login($email: String!, $code: String!) {\n    login(input: { email: $email,code:$code }) {\n      token\n      email\n    }\n  }\n"]))),O=a(95);var S=function(e){e.warning&&(O.b.error("The Email or password you entered does not match our records. Please try again or contact xiaolianbei.org@gmail.com for help"),O.b.clearWaitingQueue());var t=function(){var e=Object(s.g)(),t=w(),a=Object(p.a)(t,3),n=(a[0],a[1]),r=a[2],c=Object(b.b)(j,{onCompleted:function(t){if(null===t.login){e.push("./?warning")}else{n(t.login.token+"&&"+t.login.email);e.push("./list")}}}),o=Object(p.a)(c,2),l=o[0];return[function(e,t){return r(),l({variables:{email:e,code:t}})},o[1]]}(),a=Object(p.a)(t,2),n=a[0],c=a[1],o=Object(g.a)({shouldUseNativeValidation:!0}),l=o.handleSubmit,i=o.register,u=c.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"hero d-flex flex-column justify-content-center align-items-center",id:"home"},r.a.createElement(O.a,{limit:1}),r.a.createElement("div",{className:"bg-overlay"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-8 col-md-10 mx-auto col-12"},r.a.createElement("div",{className:"hero-text mt-5 text-center"},r.a.createElement("h6",{"data-aos":"fade-up",className:"text-white","data-aos-delay":"300"},"Welcome to NAAAC-North America Alumni Alliance Cup Singing Competition Voting System"),r.a.createElement("h1",{className:"text-white","data-aos":"fade-up","data-aos-delay":"500"},"NAAAC Judger portal"),r.a.createElement("form",{onSubmit:l((function(e){window.history.replaceState({},document.title,"./"),n(e.email,e.code)}))},r.a.createElement("input",Object.assign({type:"email",className:"form-control",name:"cf-email",placeholder:"Email  (lowercase) "},i("email",{required:"Please enter your email."}))),r.a.createElement("input",Object.assign({type:"text",className:"form-control",name:"cf-group",placeholder:"password"},i("code",{required:"Please enter your password."}))),r.a.createElement("button",{disabled:u,type:"submit",className:"form-control",id:"submit-button",name:"submit"},"Sign in "))))))),r.a.createElement("footer",{className:"site-footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"ml-auto col-lg-12 col-md-12"},r.a.createElement("p",{className:"copyright-text"},"If you have any questions, please contact xiaolianbei.org@gmail.com.  Version : 1.0.2")),r.a.createElement("div",{className:"ml-auto col-lg-12 col-md-12"},r.a.createElement("p",{className:"copyright-text"},"Copyright \xa9 2022 North America Alumni Alliance Cup. Design By Y&L Solution ",r.a.createElement("span",{role:"img","aria-label":"twist"}," \u270a "),"  Photos on Unsplash"))))))};var C,k=function(e){var t=null===new URLSearchParams(Object(s.h)().search).get("warning");return r.a.createElement(S,{warning:!t})},A=a(290),I=a.n(A),W=a(24),V=a(832),J=a(842),P=a(840),T=a(843),$=a(293),L=a.n($),U=(a(686),a(185)),q=a(838),D=a(844),Y=a(444),B=a.n(Y),M=["children","onClose"],z=function(e){var t=e.children,a=e.onClose,r=Object(U.a)(e,M);return n.createElement(q.a,Object.assign({sx:{m:0,p:2}},r),t,a?n.createElement(D.a,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}}},n.createElement(B.a,null)):null)},F=Object(E.a)(C||(C=Object(h.a)(["\n  mutation customUpdateJudgeVotes($input: [Judge_inputInsertInput]) {\n    customUpdateJudgeVotes(input:$input) {\n      id\n    }\n  }\n"])));var Q,R=function(e){var t=function(){var e=_(),t=Object(b.b)(F,{onCompleted:function(t){return e(),!0}}),a=Object(p.a)(t,2),n=a[0];return[function(e){return n({variables:{input:e}})},a[1]]}(),a=Object(p.a)(t,1)[0],c=_(),o=Object(W.a)(V.a)((function(e){var t=e.theme;return{"& .MuiDialog-paper":{minWidth:"500px"},"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),l=Object(n.useState)([]),i=Object(p.a)(l,2),s=i[0],u=i[1],m=r.a.useState(!1),d=Object(p.a)(m,2),f=d[0],g=d[1],h=r.a.useState(!1),E=Object(p.a)(h,2),v=E[0];E[1],Object(n.useEffect)((function(){e.data&&u(e.data.songListJudages)}),[e.data]);var N=function(){g(!1)},y=function(e,t,a,n){var r=JSON.parse(JSON.stringify(s)),c=!1,o=r.map((function(r){return r.id===e&&(r[a]=t,""==t||Number.isInteger(parseInt(t))?(""==t&&(t=0),parseInt(t)>n||parseInt(t)<0?(O.b.error("The rate is out of range, please make sure the range is 0 - "+n.toString()),O.b.clearWaitingQueue(),c=!0):r.score=parseInt(r.score_cate1)+parseInt(r.score_cate2)+parseInt(r.score_cate3)+parseInt(r.score_cate4)+parseInt(r.score_cate5)+parseInt(r.score_cate6)):(O.b.error("Please type a number and make sure the range is 0 - "+n.toString()),O.b.clearWaitingQueue())),r}));c||u(o)},x=[{name:"Index",selector:function(e,t){return r.a.createElement("span",null," ",t+1," ")}},{name:"\u8282\u76ee",selector:function(e){return r.a.createElement("div",{style:{minWidth:"250px"}}," ",e.SongName)},minWidth:"250px"},{name:"\u8282\u76ee\u94fe\u63a5",selector:function(e){return r.a.createElement("a",{href:e.SongLink,target:"external-url"},r.a.createElement(L.a,null))}},{name:"\u603b\u5206\uff08\u6ee1\u5206100\uff09",selector:function(e){return r.a.createElement("div",{style:{width:"80px"}}," ",e.score)},minWidth:"200"},{name:"\u97f3\u51c6(20%)",selector:function(e){return r.a.createElement("input",{type:"text",className:"form-control",defaultValue:e.score_cate1,name:"cf-name",onChange:function(t){return y(e.id,t.target.value,"score_cate1",20)}})}},{name:"\u97f3\u8272(20%)",selector:function(e){return r.a.createElement("input",{type:"text",className:"form-control",defaultValue:e.score_cate2,name:"cf-name",onChange:function(t){return y(e.id,t.target.value,"score_cate2",20)}})}},{name:"\u6b4c\u66f2\u5904\u7406(20%)",selector:function(e){return r.a.createElement("input",{type:"text",className:"form-control",defaultValue:e.score_cate3,name:"cf-name",onChange:function(t){return y(e.id,t.target.value,"score_cate3",20)}})},minWidth:"200"},{name:"\u8282\u594f(20%)",selector:function(e){return r.a.createElement("input",{type:"text",className:"form-control",defaultValue:e.score_cate4,name:"cf-name",onChange:function(t){return y(e.id,t.target.value,"score_cate4",20)}})}},{name:"\u54ac\u5b57(20%)",selector:function(e){return r.a.createElement("input",{type:"text",className:"form-control",defaultValue:e.score_cate5,name:"cf-name",onChange:function(t){return y(e.id,t.target.value,"score_cate5",20)}})}},{name:"\u8282\u76ee\u7f16\u53f7",selector:function(e){return e.SongId}},{name:"\u540d\u5b57",selector:function(e){return e.name}},{name:"\u6821\u53cb",selector:function(e){return e.school}},{name:"\u5531\u6cd5",selector:function(e){return e.style1}},{name:"\u5206\u7ec4",selector:function(e){return e.group}}],w=[{name:"Index",selector:function(e,t){return r.a.createElement("span",null," ",t+1," ")}},{name:"\u8282\u76ee",selector:function(e){return r.a.createElement("div",{style:{minWidth:"250px"}}," ",e.SongName)},minWidth:"250px"},{name:"\u8282\u76ee\u94fe\u63a5",selector:function(e){return r.a.createElement("a",{href:e.SongLink,target:"external-url"},r.a.createElement(L.a,null))}},{name:"\u603b\u5206\uff08\u6ee1\u5206100\uff09",selector:function(e){return r.a.createElement("div",{style:{width:"80px"}}," ",e.score)},minWidth:"200"},{name:"\u97f3\u51c6(15%)",selector:function(e){return r.a.createElement("input",{type:"text",className:"form-control",defaultValue:e.score_cate1,name:"cf-name",onChange:function(t){return y(e.id,t.target.value,"score_cate1",15)}})}},{name:"\u97f3\u8272(15%)",selector:function(e){return r.a.createElement("input",{type:"text",className:"form-control",defaultValue:e.score_cate2,name:"cf-name",onChange:function(t){return y(e.id,t.target.value,"score_cate2",15)}})}},{name:"\u6b4c\u66f2\u5904\u7406(15%)",selector:function(e){return r.a.createElement("div",null," ",r.a.createElement("input",{type:"text",className:"form-control",defaultValue:e.score_cate3,name:"cf-name",onChange:function(t){return y(e.id,t.target.value,"score_cate3",15)}}))},minWidth:"200"},{name:"\u8282\u594f(15%)",selector:function(e){return r.a.createElement("input",{type:"text",className:"form-control",defaultValue:e.score_cate4,name:"cf-name",onChange:function(t){return y(e.id,t.target.value,"score_cate4",15)}})}},{name:"\u9ed8\u5951(25 %)",selector:function(e){return r.a.createElement("input",{type:"text",className:"form-control",defaultValue:e.score_cate6,name:"cf-name",onChange:function(t){return y(e.id,t.target.value,"score_cate6",25)}})}},{name:"\u54ac\u5b57(15%)",selector:function(e){return r.a.createElement("input",{type:"text",className:"form-control",defaultValue:e.score_cate5,name:"cf-name",onChange:function(t){return y(e.id,t.target.value,"score_cate5",15)}})}},{name:"\u8282\u76ee\u7f16\u53f7",selector:function(e){return e.SongId}},{name:"\u540d\u5b57",selector:function(e){return e.name}},{name:"\u6821\u53cb",selector:function(e){return e.school}},{name:"\u5531\u6cd5",selector:function(e){return e.style1}},{name:"\u5206\u7ec4",selector:function(e){return e.group}}],j=s.length?s:[],S=j.length>0?j.filter((function(e){return"1"==e.cate})):[],C=j.length>0?j.filter((function(e){return"2"==e.cate})):[];return r.a.createElement("section",{className:"hero-list d-flex flex-column justify-content-center align-items-center"},r.a.createElement(O.a,null),r.a.createElement(o,{onClose:N,"aria-labelledby":"customized-dialog-title",open:f},r.a.createElement(z,{id:"customized-dialog-title",onClose:N},"Ready to Submit"),r.a.createElement(J.a,null,r.a.createElement("p",null,"Thank you for your rating."),r.a.createElement("p",null,"Click Submit button to confirm your rating.")),r.a.createElement(T.a,null,r.a.createElement(P.a,{autoFocus:!0,onClick:function(){g(!1);var e=[];s.length>0&&s.map((function(t){return e.push({id:t.id,score:t.score,score_cate1:t.score_cate1,score_cate2:t.score_cate2,score_cate3:t.score_cate3,score_cate4:t.score_cate4,score_cate5:t.score_cate5,score_cate6:t.score_cate6}),t})),a(e)},disabled:v},"Confirm and Submit"))),r.a.createElement("div",{className:"bg-overlay-list"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12 col-md-12 mx-auto col-12"},r.a.createElement("h3",{className:"text-white"},"Welcome to the NAAAC Judger Protal"),r.a.createElement("br",null),r.a.createElement("p",{className:"text-white"},"Thank you for using NAAAC Judger Protal."),r.a.createElement("p",{className:"text-white"},"In this page, you will see two sections,each section contains multi-songs for rating."),r.a.createElement("ul",null,r.a.createElement("li",{className:"text-white"},"Section 1 is \u72ec\u5531. "),r.a.createElement("li",{className:"text-white"},"Section 2 is \u5408\u5531.")),r.a.createElement("p",{className:"text-white"},"You can submit your ratings by clicking the submit button. You will logout after the submit. You can change your mind by relogin to the system. Thank you !"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6 col-md-2  col-sm-12"}),r.a.createElement("div",{className:"col-lg-3 col-md-5 col-sm-12 "},r.a.createElement("button",{type:"button",className:"form-control",id:"submit-button",onClick:function(){g(!0)}},"Submit my votes")),r.a.createElement("div",{className:"col-lg-3 col-md-5   col-sm-12 "},r.a.createElement("button",{type:"button",className:"form-control",onClick:function(){c()}},"logout"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12 col-md-12 mx-auto col-12"},r.a.createElement("div",{className:"mt-5"},r.a.createElement("h4",{className:"text-white"}," \u72ec\u5531 "),r.a.createElement(I.a,{columns:x,data:S,progressPending:e.loading})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12 col-md-12 mx-auto col-12"},r.a.createElement("div",{className:"mt-5"},r.a.createElement("h4",{className:"text-white"}," \u5408\u5531 "),r.a.createElement(I.a,{columns:w,data:C,progressPending:e.loading}))))))},G=Object(E.a)(Q||(Q=Object(h.a)(["\nquery get_judge_song_list($password: String!,$email: String!) {\n  songListJudages(query: {password: $password, email: $email}) {\n    SongId\n    SongLink\n    SongName\n    id\n    cate\n    email\n    group\n    name\n    password\n    school\n    score\n    score_cate1\n    score_cate2\n    score_cate3\n    score_cate4\n    score_cate5\n    score_cate6\n    style1\n  }\n  }"])));var H={settings:{layout:{}},routes:[{path:"/home",component:k},{path:"/list",component:function(e){var t=w(),a=Object(p.a)(t,1)[0],n="",c="";a&&null!==a&&(n=a.split("&&")[0],c=a.split("&&")[1]);var o=Object(b.c)(G,{variables:{password:n,email:c}}),l=o.loading,i=o.error,s=o.data;return i?r.a.createElement(S,{warning:!0}):"undefined"===typeof n||""===n?r.a.createElement(S,null):r.a.createElement(R,{loading:l,error:i,data:s,token:n})}},{path:"/logout",component:function(e){return r.a.createElement("section",{className:"hero d-flex flex-column justify-content-center align-items-center",id:"home"},r.a.createElement("div",{className:"bg-overlay"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-8 col-md-10 mx-auto col-12"},r.a.createElement("div",{className:"hero-text mt-5 text-center"},r.a.createElement("h4",{className:"text-white"},"Thank you for using NAAAC-North America Alumni Alliance Cup Singing Competition Voting System"),r.a.createElement("h4",{className:"text-white"},"Your votes is important to us."),r.a.createElement("h4",{className:"text-white"},"We will keep you update on the voting result. Wish you have a nice day!")),r.a.createElement("div",{className:"col-lg-4 col-md-4 mx-auto col-4"},r.a.createElement("button",{type:"button",onClick:function(){window.location.href="./"},className:"form-control",id:"submit-button",name:"submit"},"Sign in to vote"))))))}},{path:"/errors/404",component:f}]},K=[].concat(Object(m.a)(H.routes),[{path:"/",exact:!0,component:k},{component:function(){return r.a.createElement(s.a,{to:"/errors/404"})}}]),X=a(446),Z=a(145);var ee=function(e){return r.a.createElement(u.Consumer,null,(function(e){var t=e.routes;return r.a.createElement("div",null,r.a.createElement(Z.a,null,Object(X.a)(t)))}))},te=a(59),ae=a(294),ne=a(833),re=a(834),ce=a(835),oe=new ae.a("naaac-app-ugrsu");function le(){return ie.apply(this,arguments)}function ie(){return(ie=Object(y.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe.currentUser){e.next=5;break}return e.next=3,oe.logIn(ae.b.anonymous());case 3:e.next=7;break;case 5:return e.next=7,oe.currentUser.refreshCustomData();case 7:return e.abrupt("return",oe.currentUser.accessToken);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=new ne.a({link:new re.a({uri:"https://us-west-2.aws.realm.mongodb.com/api/client/v2.0/app/naaac-app-ugrsu/graphql",fetch:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Object(y.a)(N.a.mark((function e(t,a){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:return n=e.sent,a.headers.Authorization="Bearer ".concat(n),e.abrupt("return",fetch(t,a));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}),cache:new ce.a}),ue=function(){return r.a.createElement(te.a,{client:se},r.a.createElement(u.Provider,{value:{routes:K}},r.a.createElement(s.c,{history:i},r.a.createElement(ee,null))))},me=a(296),de=a(449),fe=a(448),pe=Object(fe.createLogger)(),ge=Object(me.b)(Object(me.a)(de.a,pe));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:ge},r.a.createElement(ue,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[464,1,2]]]);
//# sourceMappingURL=main.c1d95336.chunk.js.map